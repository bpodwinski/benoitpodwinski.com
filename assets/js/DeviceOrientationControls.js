THREE.DeviceOrientationControls=function(e){var a=this;this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alpha=0,this.alphaOffsetAngle=0;function t(e){a.deviceOrientation=e}function n(){a.screenOrientation=window.orientation||0}var o,r,s,c,d=(o=new THREE.Vector3(0,0,1),r=new THREE.Euler,s=new THREE.Quaternion,c=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5)),function(e,t,n,i,a){r.set(n,t,-i,"YXZ"),e.setFromEuler(r),e.multiply(c),e.multiply(s.setFromAxisAngle(o,-a))});this.connect=function(){n(),window.addEventListener("orientationchange",n,!1),window.addEventListener("deviceorientation",t,!1),a.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",n,!1),window.removeEventListener("deviceorientation",t,!1),a.enabled=!1},this.update=function(){if(!1!==a.enabled){var e=a.deviceOrientation.alpha?THREE.Math.degToRad(a.deviceOrientation.alpha)+this.alphaOffsetAngle:0,t=a.deviceOrientation.beta?THREE.Math.degToRad(a.deviceOrientation.beta):0,n=a.deviceOrientation.gamma?THREE.Math.degToRad(a.deviceOrientation.gamma):0,i=a.screenOrientation?THREE.Math.degToRad(a.screenOrientation):0;d(a.object.quaternion,e,t,n,i),this.alpha=e}},this.updateAlphaOffsetAngle=function(e){this.alphaOffsetAngle=e,this.update()},this.dispose=function(){this.disconnect()},this.connect()};
//# sourceMappingURL=DeviceOrientationControls.js.map
